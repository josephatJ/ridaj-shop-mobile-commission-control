<div class="container">
  <app-header></app-header>
  <div class="row">
    <div class="col-9">
      <div class="row">
        <div class="col-md-6">
          <h3>Kamisheni Mpya</h3>
          <form
            [formGroup]="commissionFormGroup"
            (ngSubmit)="onSubmit(commissionFormGroup.value)"
          >
            <mat-form-field>
              <mat-label>Kamisheni</mat-label>
              <input
                type="number"
                min="0"
                matInput
                formControlName="commission"
                placeholder="200"
                required
              />
              <mat-error *ngIf="!commission.valid && commission.touched">
                {{ errorAlert }}
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Kamisheni yako (10%)</mat-label>
              <input
                type="number"
                min="0"
                matInput
                formControlName="customercommission"
                placeholder="200"
                required
                [value]="commissionFormGroup.value.commission * 0.01"
              />
              <!-- <mat-error *ngIf="!customercommission.valid && customercommission.touched">
                {{ errorAlert }}
              </mat-error> -->
            </mat-form-field>

            <mat-form-field>
              <mat-label>Fedha iliyowekwa/kutolewa</mat-label>
              <input
                type="number"
                min="100"
                matInput
                formControlName="transaction"
                placeholder="2000"
                required
              />
              <mat-error *ngIf="!transaction.valid && transaction.touched">
                {{ errorAlert }}
              </mat-error>
            </mat-form-field>
            <button
              style="border: solid 1px #eee"
              [disabled]="
                commissionFormGroup.value.commission == '' ||
                commissionFormGroup.value.transaction == ''
              "
              mat-button
              type="submit"
            >
              Save
            </button>
          </form>
        </div>
        <div class="col-md-6">
          <button
            style="float: right"
            mat-stroked-button
            routerLink="/customer/{{ customerId }}"
          >
            Kamisheni zote
          </button>
        </div>
      </div>
    </div>
    <div class="col-3">
      <div class="description">
        <h3><b>Faidika</b>, ukiweka au kutoa hela hapa.</h3>
        <h3>Pata <b>Gawio</b> kutoka kwenye kamisheni.</h3>
      </div>
    </div>
  </div>
</div>
